{% extends 'core/base.html' %}
{% block content %}
<div class="container-fluid mt-5 mb-4">
    <div class="card">
        <div class="card-title">
        <h2 class="m-2">Upload Files | Run Analytics</h2>
        </div>
        <div class="card-body">
        <form id="uploadForm" enctype="multipart/form-data">
            <div class="mb-3">
                <label class="form-label">Select File Type:</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="fileType" id="file_facilities" value="facilities">
                    <label class="form-check-label" for="facilities">
                        Facilities
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="fileType" id="file_patients" value="patients">
                    <label class="form-check-label" for="patients">
                        Patients
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="fileType" id="file_htn_visits_initial" value="htn_visits_initial">
                    <label class="form-check-label" for="htn_visits_initial">
                        HTN Visits Initial
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="fileType" id="file_htn_visits_followup" value="htn_visits_followup">
                    <label class="form-check-label" for="htn_visits_followup">
                        HTN Visits Follow Up
                    </label>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Select File:</label>
                <input type="file" class="form-control" name="file" id="file">
            </div>
            <button type="submit" class="btn btn-primary p-2 m-2 d-inline">Upload File</button>
            <div class="mt-3">
                <div class="spinner-border text-primary d-none" role="status" id="uploadSpinner">
                </div>
                <span class="d-none" id="uploadText">Extracting data from file. Please wait...</span>
                <div class="alert alert-success mt-3 d-none" role="alert" id="successMessage">
                    Files uploaded successfully.
                </div>
            </div>
        </form>
        </div>
    </div>
    <div class="row d-inline">
        <form id="AnalyticsForm" enctype="multipart/form-data">
            <button type="submit" class="btn btn-success p-2 m-2 d-inline" id="runAnalyticsBtn">Run Analytics</button>
            </form>
    </div>
</div>
{% endblock content %}
